package tp1.logic.gameobjects;

import tp1.logic.Action;
import tp1.logic.Game;
import tp1.logic.Position;

public abstract class GameObject { // TODO 

	protected Position pos; // If you can, make it private.
	private boolean isAlive;
	protected Game game;
	protected boolean solid;
	
	public GameObject(Game game, Position pos) {
		this.isAlive = true;
		this.pos = pos;
		this.game = game;
		this.solid = true;
	}
	
	public boolean isInPosition(Position p) {
		return this.pos.equals(p);
	}
 	
	public boolean isAlive() {
		return isAlive;
	}
	
	public void dead(){
		this.isAlive = false;
	}
	
	public boolean isSolid() {
		return solid;
	}
	
	public abstract void update();
	
	public abstract String getIcon();

	// Not mandatory but recommended
	protected void move(Action dir) {
		switch (dir) {
		case UP:
			this.pos.add_y(pos, -1);
			break;
		
		case DOWN:
			this.pos.add_y(pos, 1);
			break;
			
		case RIGHT:
			this.pos.add_x(pos, 1);
			break;
			
		case LEFT:
			this.pos.add_x(pos, -1);
			break;
			
		case STOP:
			break;
		}
	}
	
	public interface GameItem {
		public boolean isSolid();
		public boolean isAlive();
		public boolean isInPosition(Position pos);

		public boolean interactWith(GameItem other);

		public boolean receiveInteraction(Ground ground);
		public boolean receiveInteraction(Mario mario);
		public boolean receiveInteraction(ExitDoor door);
		public boolean receiveInteraction(Goomba goomba);
	}
}
