package tp1.logic;

import tp1.logic.Action;
import tp1.logic.Game;

public class ActionList {
	private int counter = 0;
	Action action_list[];
	private boolean did_up = false, did_down = false, did_right = false, did_left = false;
	
	public ActionList(int size) {
		this.action_list = new Action[size];
	}
	
	public void addAction(Action new_action) {
		action_list[counter] = new_action;
		this.counter++;
	}
	
	public void doActions(Game game) {
		for (int i = 0; i < this.action_list.length; i++) {
			switch(this.action_list[i]) {
			
			case Action.UP:
				if (!did_down) {
					game.mario.MoveMario(Action.UP);
					did_up = true;
				}
				break;
				
			case Action.DOWN:
				if (!did_up) {
					game.mario.MoveMario(Action.DOWN);
					did_down = true;
				}
				break;
				
			case Action.LEFT:
				if (!did_right) {
					game.mario.MoveMario(Action.LEFT);
					did_left = true;
				}
				break;
				
			case Action.RIGHT:
				if (!did_left) {
					game.mario.MoveMario(Action.RIGHT);
					did_right = true;
				}
				break;
			}
		}
	}
	
	public int ActionListLength() {
		return this.action_list.length;
	}
}
